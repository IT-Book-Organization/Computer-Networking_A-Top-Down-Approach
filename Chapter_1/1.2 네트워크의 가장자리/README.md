# 1.2 접속 네트워크

컴퓨터 네트워크(특히 인터넷)의 구성요소에 대하여 자세히 살펴보자.

<br/>

### 호스트(host), 종단 시스템(end system)

- **인터넷에 연결되는 컴퓨터와 그 밖의 장치들**
- 인터넷의 가장 자리를 차지하고 있기 때문에 **‘종단’ 시스템**이라고 부른다.
- 종단 시스템은 애플리케이션을 수행하므로 **호스트**라고도 부르며, 호스트는 `클라이언트(client)`와 `서버(server)`로 구분된다.

<br/>

아래는 종단 시스템의 상호작용을 나타낸 그림이다.
<p align="center"><img width="450" alt="종단 시스템 상호작용" src="https://user-images.githubusercontent.com/86337233/210128184-301c72b1-c174-432e-b14d-8824c2a58cea.png">

<br/><br/>

## 1.2.1 접속 네트워크

### 접속 네트워크(access network)

종단 시스템을 먼 거리에 위치한 다른 종단 시스템까지의 경로 상에 있는 첫 번째 라우터 즉, **가장 자리 라우터(edge router)에 연결하는 네트워크**를 말한다.

아래 그림에서의 굵은 선들은 여러 종류의 접속 네트워크들을 나타낸 것이다.

<p align="center"><img width="450" alt="접속 네트워크" src="https://user-images.githubusercontent.com/86337233/210129140-31bb75d0-c8f9-4a70-bb54-60c805b1fea8.png">
<br/>
<br/>


네트워크 접속 기술들에 대하여 차례대로 알아보자.

- `가정 접속` : DSL, 케이블, FTTH, 5G 고정 무선 기술
- `기업(그리고 가정) 접속` : 이더넷, 와이파이
- `광역 무선 접속` : 3G, LTE 4G, 5G

<br/>

## 가정 접속

- 오늘날(2020년) 가장 널리 보급된 광대역 가정 접속 유형들
    - `DSL` : 지역 전화 회사(telco)의 **기존 로컬 전화 인프라스트럭처**를 이용
    - `케이블` : 케이블 TV 회사의 **기존 케이블 TV 인프라스트럭처**를 이용


- `FTTH` : 위의 접속 유형들보다 빠른 속도를 제공하는 미래 기술

<br/>

### DSL(Digital Subscriber Line) 인터넷 접속

가정은 유선 로컬 전화 서비스를 제공하는 같은 **지역 전화 회사(telco)로부터** `DSL 인터넷 접속 서비스`를 받는다.

<br/>

#### DSL 모뎀

<p align="center"><img width="550" alt="DSL 인터넷 접속" src="https://user-images.githubusercontent.com/86337233/210128274-3b65a140-9c16-4b41-8f6d-5da5099f1a68.png">
<br/>
<br/>


가정의 DSL 모뎀은 텔코의 지역 중앙국(Central Office, CO)에 위치한 **DSLAM(Digital Subscriber Line Access Multiplexer)과 데이터를 교환하기 위해**  
기존 전화 회선을 이용한다.

1. 가정의 DSL 모뎀은 수신한 디지털 데이터를 전화선을 통해 CO로 전송하기 위해, 해당 데이터를 고주파 신호로 변환한다.
2. 여러 가정으로부터의 아날로그 신호는 **DSLAM에서 디지털 포맷으로 다시 변환된다.**

communication - voice: (telephones) TRS, PSTN
              - data: PSDN(TCP/IP)


<br/>

#### 주파수 분할 다중화(Frequency-Division Multiplexing, FDM)

_이는 1.3.2절에서 자세히 다룰 예정이다._

> 가정 전화 회선은 **데이터와 전통적인 전화 신호를 동시에 전달**하며, 이들은 다른 주파수 대역에서 인코딩된다.

<br/>

주파수 분할 다중화를 통해 단일 DSL 링크가 3개의 분리된 링크인 것처럼 보인다.

이를 통해서 **하나의 전화 회선과 인터넷 연결이 동시에 DSL 링크를 공유할 수 있게 된다.**

- 고속 다운스트림 채널 : 50 kHz ~ 1 MHz 대역
- 중간 속도의 업스트림 채널 : 40 ~ 50 kHz 대역
- 일반적인 양방향 전화 채널 : 0 ~ 4 kHZ 대역

<br/>

#### 스플리터 (splitter)

- 가정 쪽에 존재한다.
- 역할
    1. 가정에 도착하는 데이터와 전화 신호를 분리
    2. 데이터 신호를 DSL 모뎀으로 전송

<br/>

#### DSLAM(Digital Subscriber Line Access Multiplexer)

- 수백 ~ 수천 개의 가정들이 DSLAM에 연결된다.
- 역할
    1. 데이터와 전화 신호를 분리
    2. 데이터를 인터넷으로 송신

<br/>

#### DSL 표준

- DSL 표준은 여러 `전송률`을 정의하며, 이 전송률에는 업스트림과 다운스트림을 포함된다. **(다운스트림 채널이 업스트림 채널보다 빠른 전송률이 할당됨)**
    - `업스트림` 속도 : 3.5 Mbps, 16 Mbps
    - `다운스트림` 속도 : 24 Mbps, 52 Mbps

<br/>

- 최신 표준 : 업스트림과 다운스트림을 결합한 1 Gbps 속도를 정의 (ITU 2014)
    - 다운스트림과 업스트림의 속도가 다르기 때문에 이 접속 방식을 <b>비대칭(asymmetric)</b>이라고 한다.

<br/>

### 케이블 인터넷 접속, HFC(Hybrid Fiber Coax)

가정은 **케이블 TV 서비스를 제공하는 같은 회사로부터** 인터넷 접속 서비스를 받는다.

광케이블은 `케이블 헤드엔드`를 이웃 레벨 정션(junction)에 연결하며, 이로부터 가정들에 도달하는 데에는 전통적인 `동축케이블`이 사용된다.

<p align="center"><img width="650" alt="HFC 접속 네트워크" src="https://user-images.githubusercontent.com/86337233/210128378-c0754ede-9bca-4e37-9863-b3fb127a6679.png">
<br/>
<br/>

#### 헤드엔드(head-end)

- (유선 TV의) 전파 (조정) 중계소, 중계국 / 주전송장치(분배센터)
- 각 데이터 국으로부터 수신된 신호를 많은 세대가 시청할 수 있도록 **신호를 가공, 증폭한 다음 분배**해주는 시설
- 유선 TV 방송을 위해 전파를 증폭, 조정, 변환, 투입차단 또는 혼합하여 선로로 송출하는 장치들과 신호를 간선 케이블로 송출하는 모든 설비를 말한다.

<br/>

#### 케이블 모뎀

- 케이블 인터넷 접속을 위한 모뎀
- `이더넷 포트`를 통해 가정 PC에 연결된다.
- 케이블 헤드엔드에서 `CMTS(Cable Modem Termination System)`가 존재
- 이는 HFC 네트워크를 다운스트림과 업스트림 채널 2개로 나눈다. _(DSL과 똑같음!)_
    - 비대칭 접속
    - 다운스트림 채널이 업스트림 채널보다 빠른 전송률이 할당된다.

<br/>

#### CMTS(Cable Modem Termination System)

- 많은 다운스트림 가정에 있는 **케이블 모뎀으로부터 송신된 아날로그 신호를 다시 디지털 포맷으로 변환**하는 역할
- 즉, 이는 DSL 네트워크의 DSLAM와 유사한 기능을 한다.

<br/>

#### 케이블 인터넷은 공유 방송 매체 ⭐️

1. `헤드엔드가 보낸 모든 패킷`은 / 모든 링크의 **다운스트림 채널을 통해** / 모든 가정으로 전달된다.
2. `가정에서 보낸 모든 패킷`은 / **업스트림 채널을 통해** / 헤드엔드로 전달한다.

<br/>

이에 다음과 같은 상황이 발생한다.

- 여러 사용자가 다운스트림 채널에서 **다른** 비디오 파일을 동시에 수신하고 있다면,  
  각 사용자가 비디오 파일을 수신하는 실제 수신율은 **다운스트림 전송률보다 작아진다.**
- 몇 명만 접속 중이며 모두가 웹을 탐색 중이라면, 각 사용자는 **전체 다운스트림 전송률로** 웹 페이지를 수신할 수도 있다.

업스트림 채널도 공유가 되기 때문에, `분산 다중 접속 프로토콜`은 전송을 조정하고 충돌을 피하기 위해 필요하다.

<br/>

### FTTH(Fiber to the Home) 인터넷 접속

- 지역 중앙국(Central Office, CO)로부터 가정까지 **직접 광섬유 경로를 제공한다.**
- 잠재적으로 Gbps의 인터넷 접속 속도를 제공할 수 있다.
- `광신호 분배 기술` : CO로부터 가정까지 광신호를 분해하는 기술들을 말한다.

<br/>

#### 다이렉트 광섬유(direct fiber)

- 가장 간단한 광신호 분배 네트워크
- CO에서 각 가정으로 하나의 광섬유를 제공

<br/>

#### AON(Active Optical Network)과 PON(Passive Optical Network)

스플리팅을 수행하는 두 가지 경쟁적인 **광신호 분배 네트워크 구조**들을 말한다.

`스플리팅(splitting)` : 일반적으로 CO에서 시작되는 각 광섬유는 여러 가정이 공유하기 때문에,  
**가정에 가까운 곳까지 하나의 광섬유로 온 다음 고객별 광섬유로 분리**하는 것

- `AON` : 근본적인 교환(switched) 이더넷
- `PON` : 아래 그림 참고 (PON 분배 구조를 이용하는 FTTH 인터넷 접속)

  <p align="center"><img width="650" alt="FTTH 인터넷 접속" src="https://user-images.githubusercontent.com/86337233/210128431-993b57ae-7275-4d65-a81e-2eb519a1c51f.png"><br/><br/>

  이처럼 각 가정에서의 사용자는 홈 라우터를 ONT에 연결하고, 그를 통해 인터넷에 접속한다.<br/><br/>
  인터넷 접속 절차는 아래와 같이 정리할 수 있다.
    1. 각 가정은 `ONT(Optical Network Terminator)`를 가지고 있으며, 이는 지정된 광섬유로 **이웃 스플리터에 연결**된다.
    2. `스플리터(Optical Splitter)`는 여러 가정을 **하나의 공유 광섬유로 결합**, 이를 텔코의 CO에 있는 `OLT(Optical Line Terminator)`에 연결한다.
    3. OLT는 **광신호와 전기 신호 간의 변환**을 제공, 이는 텔코 라우터를 통해 `인터넷`에 연결된다.

<br/>

### 5G 고정 무선(5G Fixed Wireless, 5G-FW) 기술

- `빔포밍(beam-forming) 기술`을 이용하여 서비스 제공가의 기지국에서 가정 내의 모뎀으로 데이터를 **무선으로** 전송한다.
- 와이파이(WiFi) 무선 라우터가 케이블 또는 DSL 모뎀에 연결되어 있듯, 5G-FW에서도 와이파이 무선 라우터가 모뎀에 연결되어 있다.
- `5G 셀룰러(cellular) 네트워크` _→ 7장에서 설명_

<br/>

## 기업(그리고 가정) 접속

### LAN(Local Area Network)

- **종단 시스템을 가장자리 라우터에 연결**하는 데 사용된다.
- 여러 유형의 LAN 기술 중, `이더넷 기술`이 기업, 대학, 홈 네트워크에서 가장 널리 사용되는 접속 기술

아래는 전형적인 홈 네트워크를 나타낸 그림이다.

<p align="center"><img width="600" alt="전형적인 홈 네트워크" src="https://user-images.githubusercontent.com/86337233/210128487-b8acdbb2-62e6-40c0-b74a-0bf173312dbc.png">

<br/>
<br/>

### 이더넷(**Ethernet)**

<p align="center"><img width="600" alt="이더넷 인터넷 접속" src="https://user-images.githubusercontent.com/86337233/210128501-ff9fe3a4-bd45-408d-83e8-9d43f730cbbe.png">

- 이더넷 스위치에 연결하기 위해 `꼬임쌍선`을 이용 _(꼬임 쌍선은 1.2.2절에서 설명)_
- 이더넷 스위치 혹은 상호연결된 스위치들의 네트워크는 다시 더 큰 인터넷으로 연결된다.

<br/>

### 무선 랜(wireless LAN) 환경

점차 사람들은 인터넷을 ‘사물(스마트폰, 태블릿 등)’에서 **무선으로** 접속하고 있다.

- 무선 랜 환경에서 무선 사용자들은 기업 네트워크에 연결된 `AP(Access Point)`로 패킷을 송•수신
- AP는 유선 네트워크에 다시 연결된다.
- `와이파이(WiFi)` : IEEE 802.11 기술에 기반한 무선 랜 접속

<br/>

## 광역 무선 접속

- **무선 인프라스트럭처를 채택** (이동 전화망 사업자들이 운영하는 기지국을 통해 패킷을 송수신하는 데 사용하는 것과 같은 것임)
- 수십 미터 반경 내에 있어야 하는 와이파이와 달리, 사용자는 **기지국의 수십 킬로미터 반경 내**에 있으면 된다.

<br/><br/>

## 1.2.2 물리 매체

인터넷에서 공통적으로 사용하는 물리 매체들과 그 밖의 매체들에 대하여 살펴보자.

<br/>

### 물리 매체(physical media)

물리 매체를 정의하기 위해서는 비트에 대해 먼저 알아야 한다.

<br/>

```
한 종단 시스템에서 여러 링크와 라우터를 거쳐 다른 종단 시스템으로 한 비트가 전달되는 상황을 생각해보자.
```

- 이 비트는 여러 라우터를 거치게 된다. (첫 번째 라우터 : 비트를 수신 & 전송 → 두 번째 라우터 : 비트를 수신 & 전송 → 세 번째 라우터 : … )
- 즉, 비트는 출발지에서 목적지로 전달될 때 여러 번 걸쳐 전송되며, `일련의 송신기-수신기 쌍`을 거친다.

<br/>

> 비트는 **물리 매체(physical media)상에** 전자파나 광 펄스를 전파하여 전송한다.

- 물리 매체는 여러 형태이며, **경로상의 각 송신기-수신기 쌍에 대해 같은 유형일 필요는 없다.**
- e.g., 꼬임쌍선, 동축케이블, 다중모드 광섬유 케이블, 지상파와 위성파 등
- 두 가지 종류
    - `유도 매체(guided media)` : 꼬임쌍선, 동축케이블, 광섬유 케이블과 같은 **견고한 매체를 따라 파형을 유도**
    - `비유도 매체(unguided media)` : 무선 랜 혹은 디지털 위성 채널처럼 **야외 공간으로 파형을 전파**

<br/>

### 꼬임쌍선

- 가장 싸고 가장 많이 이용하는 전송 매체 (전화기에서 전화국 스위치까지 유선 연결의 99% 이상이 이를 이용)
- 구성
    - 2개의 절연 구리선, 각각은 약 1mm 굵기로 **규칙적인 나선 형태**로 배열된다.
    - 이웃하는 쌍들 간에 전기 간섭을 줄이기 위해 선들이 꼬여 있는 것이며, **이러한 한 쌍의 선이 하나의 통신 링크를 구성한다.**
- 데이터 전송률 : **전송선의 두께, 송신기와 수신기 사이의 거리**에 따라 다르다.
- 사용 : UTP(Unshielded Twisted Pair) - 빌딩의 컴퓨터 네트워크, LAN에서 가장 많이 이용하는 매체

<br/>

### 동축케이블

- 구조 : 꼬임쌍선처럼 2개의 구리선으로 되어 있으나, 두 구리선이 평행하지 않고 **동심원 형태**를 이룬다.
- 데이터 전송률 : 동심원 형태의 구조와 특수 절연 및 차폐를 가지고 있어 **꼬임쌍선보다 더 높은 데이터 전송률**을 얻을 수 있다.
- 사용 : 케이블 TV 시스템
- 특징
    - `유도 공유 매체(shared medium)`으로 사용할 수 있다.
    - 여러 종단 시스템은 케이블에 직접 연결할 수 있고, 모든 종단 시스템은 **다른 종단 시스템이 전송하는 모든 것을 수신한다.**

<br/>

### 광섬유

- 비트를 나타내는 빛의 파동을 전하는 가늘고 유연한 매체
- 초당 10~100기가비트에 이르는 높은 비트율을 지원한다.
- 광 장비는 고가이므로 근거리 전송(LAN, 가정)에는 이용하기 어렵다.
- 특징
    - 전자기성 간섭에 영향을 받지 않는다.
    - 100 km까지는 신호 감쇠 현상이 매우 적다.
    - 태핑(tapping, 도청)하기가 어렵다.
- 사용 : 해저 링크, 광역 전화 네트워크

<br/>

### 지상 라디오 채널

- 전자기 스펙트럼으로 신호를 전달한다.
- 특징
    - 물리 선로를 설치할 필요가 없다.
    - 벽을 관통할 수 있다.
    - 이동 사용자에게 연결성을 제공하며, 먼 거리까지 신호 전달이 가능하다
    - 전파 환경과 신호가 전달되는 거리에 많은 영향을 받는다.
        - 주변 환경을 결정하는 요소
            - `경로손실(path loss)`
            - `섀도 페이딩(shadow fading)` : 신호가 먼 거리를 지나감에 따라 / 방해 물질을 돌아가거나 통과함에 따라 신호 강도가 약해지는 현상
            - `다중경로 페이딩` : 간섭 물체의 신호 반사 때문에 발생
            - `간섭` : 다른 라디오 채널이나 전자기 신호 때문에 발생
- 크게 3개의 그룹으로 분류
    - 1~2 m의 매우 짧은 거리에서 동작하는 채널 (무선 헤드셋, 키보드 등)
    - 로컬 라디오 채널 : 십~수백 미터에 걸쳐 근거리 네트워크로 동작하는 채널 (무선 랜 기술)
    - 광역 라디오 채널 : 수십 킬로미터에 걸쳐 광역에서 작동하는 채널 (셀룰러 접속 기술)

<br/>

### 위성 라디오 채널

- `지상 스테이션`이라는 둘 이상의 지상 기반 마이크로파 송신기/수신기를 연결한다.
- 과정
    1. 한 주파수 대역으로 전송 신호를 수신
    2. `리피터(repeater)`를 통해 그 신호를 재생
    3. 그 신호를 다른 주파수 대역으로 전송
- 전송률 : 초당 기가비트
- 두 가지 종류
    - `정지 위성(geostationary satellite)` : 지상 36,000 km에 쏘아올려져 일정 위치에 영원히 머무름
    - `저궤도 위성(low-earth orbiting(LEO) satellite)` : 지구를 공전하며 지상국뿐만 아니라 서로 통신할 수 있음  
      _→ 미래의 인터넷 접속에 이용될 수도?_
